(function(){function X(a){var b=Math.sin(a);a=Math.cos(a);return[a,0,-b,0,0,1,0,0,b,0,a,0,0,0,0,1]}function Y(a){var b=Math.sin(a);a=Math.cos(a);return[1,0,0,0,0,a,-b,0,0,b,a,0,0,0,0,1]}function H(a,b,f){var g=[1,0,0,0,0,1,0,0,0,0,1,0,a,b,f,1];g.n=[1,0,0,0,0,1,0,0,0,0,1,0,-a,-b,-f,1];return g}function Z(a){var b=Y(a);b.n=Y(-a);return b}function I(a,b){var f,g,e,l=[];for(f=0;f<b.length;f++)l[f]=0;for(f=0;4>f;f++)for(g=0;g<b.length/4;g++)for(e=0;4>e;e++)l[4*g+f]+=a[4*e+f]*b[4*g+e];return l}function aa(a,
b){var f=I(a,b);f.n=I(b.n,a.n);return f}function va(a){return[a[0],a[4],a[8],0,a[1],a[5],a[9],0,a[2],a[6],a[10],0,0,0,0,1]}function ba(a){var b=a.slice();this.c=function(f){f.uM4fv(f.gUL(u,"i"),!1,b)}}function wa(){this.c=function(a){L=a.n;L.n=a}}function xa(){this.c=function(a){ca=a}}function da(a,b){b=a.f.reduce(aa,b);d.uM4fv(d.gUL(u,"mv"),!1,b);d.uM4fv(d.gUL(u,"nm"),!1,va(b.n));a.o.map(function(f){f.c(d)});a.c.map(function(f){da(f,b)})}function ea(a,b){b=a.f.reduce(aa,b);a.r&&a.r.map(function(f){f.c(b)});
a.c.map(function(f){ea(f,b)})}function M(a,b,f){var g=f?f:1;this.n=b?b:10;this.c=function(e){var l=Math.sin(2*e*N*g);e=Math.cos(2*e*N*g);return[l,-e,0,0,0,0,1,0,-e,-l,0,0,-l*a,e*a,0,1]}}function fa(a,b,f,g){g=g?g:1;for(var e=0;4>e;e++)a.push(g*b[4*f+e])}function ha(a,b,f){var g,e,l=[],v=[],c=[],m=[],t=1.5*f.n|0,h=2*(t-1)*(b-1),z=d.cB(),x=d.cB(),n=d.cB(),A=d.cB();for(g=0;g<t;g++){var B=g/(t-1);B=f.c(B);for(e=0;e<b;e++){var y=e/(b-1);y=a.c(y);y=I(B,y);fa(l,y,3);fa(v,y,0,-1);m.push((2*g+e+0)%3?0:1,(2*
g+e+1)%3?0:1,(2*g+e+2)%3?0:1,1)}}for(g=0;g<t-1;g++)for(e=0;e<b-1;e++)c.push(g*b+e,g*b+e+1,(g+1)*b+e),c.push(g*b+e+1,(g+1)*b+e+1,(g+1)*b+e);d.bB(34962,z);d.bD(34962,new Float32Array(m),35044);d.bB(34962,n);d.bD(34962,new Float32Array(l),35044);d.bB(34962,x);d.bD(34962,new Float32Array(v),35044);d.bB(34963,A);d.bD(34963,new Uint16Array(c),35044);this.c=function(p){p.bB(34962,z);p.elVAA(e=p.gAL(u,"g"));p.vAP(e,4,5126,!1,0,0);p.bB(34962,n);p.elVAA(e=p.gAL(u,"v"));p.vAP(e,4,5126,!1,0,0);p.bB(34962,x);
p.elVAA(e=p.gAL(u,"N"));p.vAP(e,4,5126,!1,0,0);p.bB(34963,A);p.dEl(4,3*h,5123,0)}}function ya(a){S.cpy(ia,4096,a.outputBuffer.getChannelData(0));ia+=4096}var u,E,ja,ka;var r=document;var L,ca,N=Math.PI,la=["uniform mat4 mv,nm,p;attribute vec4 g,v,N;varying vec4 c,n,f;void main(){gl_Position=p*mv*v;n=nm*N;c=g;f=mv*v;}","uniform highp mat4 i;uniform highp vec4 l;varying highp vec4 c,n,f;void main(){gl_FragColor=vec4(i[3].aaa*max(0.,1.-4.*min(c.b,min(c.g,c.r)))+max(i[0].rgb,i[1].rgb*max(0.,dot(normalize(l-f),normalize(n)))+i[2].rgb*pow(max(0.,dot(normalize(-f),reflect(-normalize(l-f),normalize(n)))),i[2].a)),1.);}"],
O=[0,0,0,1],za=null,ma=function(a){za||=a;var b=innerWidth,f=innerHeight;b==ja&&f==ka||d.vp(0,0,ja=E.width=b,ka=E.height=f);d.el(2929);d.el(2884);a={f:[],o:[],c:[]};var g={f:[],o:[],c:[]};g.c.push({f:[H(0,1,0)],o:[new ba([.1,.12,.05,1,.2,.4,.5,1,.1,.1,.1,1,0,0,0,0]),Aa],c:[]});g={f:[],o:[],c:[{f:[],o:[],c:[g]}]};var e=[H(0,-15,0)],l=a.c,v=l.push,c=H(0,0,0),m=X(0);m.n=X(-0);c={f:[c,m,H(0,0,45),Z(.2)],o:[],c:[],r:[new wa]};m=H(0,0,0);var t=[.1,0,0,0,0,.1,0,0,0,0,.1,0,0,0,0,1];t.n=[10,0,0,0,0,10,0,0,
0,0,10,0,0,0,0,1];v.call(l,{f:[],o:[],c:[{f:e,o:[],c:[g]},c,{f:[m,t],o:[new ba([3,3,3,0,9,9,9,0,0,0,0,1,0,0,0,0]),Ba],c:[],r:[new xa]}]});d.clCl(O[0],O[1],O[2],O[3]);d.cl(16640);b=[5/(b/f),0,0,0,0,5,0,0,0,0,-1,-1,0,0,-1,0];d.uM4fv(d.gUL(u,"p"),!1,b);d.uP(u);ea(a,Z(0));d.u4fv(d.gUL(u,"l"),I(L,I(ca,[0,0,0,1])));da(a,L);requestAnimationFrame(ma)};r.body.innerHTML="Click!";r.body.appendChild(E=r.createElement("canvas"));r=E.style;r.position="fixed";r.left=r.top=0;var d=E.getContext("webgl2");for(r in d)d[r.match(/^.|[A-Zlp1-4]|[fuiv]*$/g).join("")]=
d[r];r=d.cS(35633);d.sS(r,la[0]);d.cplS(r);d.aS(u=d.cP(),r);r=d.cS(35632);d.sS(r,la[1]);d.cplS(r);d.aS(u,r);d.lP(u);var Ba=new function(a){var b=d.cB(),f=d.cB(),g=d.cB(),e=d.cB();a=[];var l=[],v=[];a=[-1,-1,1,1,1,-1,1,1,1,1,1,1,-1,1,1,1,-1,-1,-1,1,-1,1,-1,1,1,1,-1,1,1,-1,-1,1,-1,1,-1,1,-1,1,1,1,1,1,1,1,1,1,-1,1,-1,-1,-1,1,1,-1,-1,1,1,-1,1,1,-1,-1,1,1,1,-1,-1,1,1,1,-1,1,1,1,1,1,1,-1,1,1,-1,-1,-1,1,-1,-1,1,1,-1,1,1,1,-1,1,-1,1];l=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,-1,0,0,0,-1,0,0,0,-1,0,0,0,-1,0,
0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,-1,0,0,0,-1,0,0,0,-1,0,0,0,-1,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,-1,0,0,0,-1,0,0,0,-1,0,0,0,-1,0,0,0];v=[0,1,2,0,2,3,4,5,6,4,6,7,8,9,10,8,10,11,12,13,14,12,14,15,16,17,18,16,18,19,20,21,22,20,22,23];d.bB(34962,b);d.bD(34962,new Float32Array(l),35044);d.bB(34962,f);d.bD(34962,new Float32Array(a),35044);d.bB(34962,g);d.bD(34962,new Float32Array(l),35044);d.bB(34963,e);d.bD(34963,new Uint16Array(v),35044);this.c=function(c){var m;c.bB(34962,b);c.elVAA(m=c.gAL(u,"g"));
c.vAP(m,4,5126,!1,0,0);c.bB(34962,f);c.elVAA(m=c.gAL(u,"v"));c.vAP(m,4,5126,!1,0,0);c.bB(34962,g);c.elVAA(m=c.gAL(u,"N"));c.vAP(m,4,5126,!1,0,0);c.bB(34963,e);c.dEl(4,36,5123,0)}}(1);var Aa=new ha(new M(1,10,.5),32,new M(0,32));new ha(new M(-10,10,.5),32,new M(0,32));var S=new function(){var a=function(c){return Math.sin(2*c*N)},b=[a,function(c){return.5>c%1?1:-1},function(c){return c%1*2-1},function(c){c=c%1*4;return 2>c?c-1:3-c}],f,g,e,l,v;this.i=function(c){f=c;g=c.ep;e=0;l=c.rl*c.pl*(g+1)*2;v=
new Int32Array(l)};this.g=function(){var c,m,t,h,z,x=new Int32Array(l),n=f.s[e],A=f.rl,B=f.pl,y=0,p=0,F,P=[];for(m=0;m<=g;++m){var J=n.p[m];for(t=0;t<B;++t){if(z=J?n.c[J-1].f[t]:0)n.i[z-1]=n.c[J-1].f[t+B]||0,17>z&&(P=[]);var Ca=b[n.i[16]],Da=n.i[17]/512,Ea=2**(n.i[18]-9)/A,Fa=n.i[19],na=n.i[20],Ga=.00308*n.i[21],Ha=1-n.i[22]/255,T=1E-5*n.i[23],Ia=n.i[24]/32,Ja=n.i[25]/512,Ka=2*N*2**(n.i[26]-9)/A,oa=n.i[27]/255,U=n.i[28]*A&-2;z=(m*B+t)*A;for(h=0;4>h;++h)if(c=J?n.c[J-1].n[t+h*B]:0){if(!P[c]){var k=
P;var w=c;var pa=F=void 0,Q,C,q=n,qa=c,La=b[q.i[0]],Ma=q.i[1],Na=q.i[3]/32,Oa=b[q.i[4]],Pa=q.i[5],Qa=q.i[8]/32,ra=q.i[9],G=q.i[10]*q.i[10]*4,R=q.i[11]*q.i[11]*4,V=q.i[12]*q.i[12]*4,Ra=1/V,Sa=-q.i[13]/16,K=q.i[14],Ta=A*2**(2-q.i[15]),sa=new Int32Array(G+R+V),ta=0,ua=0;for(Q=C=0;C<G+R+V;C++,Q++){0<=Q&&(K=K>>8|(K&255)<<4,Q-=Ta,pa=.004*2**((qa+(K&15)+q.i[2]-128-128)/12),F=.004*2**((qa+(K&15)+q.i[6]-128-128)/12)*(1+8E-4*q.i[7]));var D=1;C<G?D=C/G:C>=G+R&&(D=(C-G-R)*Ra,D=(1-D)*3**(Sa*D));ta+=pa*D**Na;var W=
La(ta)*Ma;ua+=F*D**Qa;W+=Oa(ua)*Pa;ra&&(W+=(2*Math.random()-1)*ra);sa[C]=80*W*D|0}k[w]=sa}w=P[c];c=0;for(k=2*z;c<w.length;c++,k+=2)x[k]+=w[c]}for(c=0;c<A;c++)h=2*(z+c),k=x[h],w=Ga,Fa&&(w*=Ca(Ea*h)*Da+.5),w=1.5*Math.sin(w),y+=w*p,k=Ha*(k-p)-y,p+=w*k,k=3==na?p:1==na?k:y,T&&(k*=T,k=1>k?-1<k?a(.25*k):-1:1,k/=T),k*=Ia,w=Math.sin(Ka*h)*Ja+.5,F=k*(1-w),k*=w,h>=U&&(F+=x[h-U+1]*oa,k+=x[h-U]*oa),x[h]=F|0,x[h+1]=k|0,v[h]+=F|0,v[h+1]+=k|0}}e++;return e/f.nc};this.cpy=function(c,m,t){for(var h=0;h<m;h++)t[h]=
v[2*c+2*h]/32768}};for(S.i({s:[{i:[2,100,128,0,3,201,128,0,0,0,0,24,15,0,0,0,0,57,6,1,2,193,0,2,35,147,6,121,6],p:[1,2,3,4,6,2,3,4,1,2,3,6,2,2],c:[{n:[111,,123,,135,,111,,123,,135,,111,,123,,137,,111,,123,,137,,111,,123,,137,,139],f:[]},{n:[111,111,123,,135,,111,,123,,135,,111,,123,,137,,111,,123,,137,,139,,111,,123,,125,,142],f:[]},{n:[109,,121,,133,,109,,121,,133,,109,,121,,135,,109,,121,,135,,109,,121,,135,,137],f:[]},{n:[104,104,116,,128,,116,,104,104,116,,128,,128,,104,104,116,,116,,104,,106,
118,118,106,121,133,133,121],f:[]},{n:[103,,115,,127,,103,,115,,127,,103,,115,,113,,101,,125,,113,,101,,125,,113,,118],f:[]},{n:[111,111,123,,135,,111,,123,,135,,111,,123,,137,,111,,123,,137,,139,,123,,140,,152,,142,,,,,,,,,,,,,,,,144,,,,,,,,145,,,,147],f:[]}]},{i:[2,100,128,0,3,201,128,0,0,0,0,24,17,0,0,0,0,57,6,1,2,193,0,0,32,147,6,121,6],p:[,,1,,1,,1],c:[{n:[156,154,,149],f:[]}]},{i:[0,255,116,64,0,255,116,0,64,0,4,6,35,0,0,0,0,0,0,0,2,14,0,0,32,0,0,0,0],p:[,,,,1,1,1,1,1],c:[{n:[135,,,135,135,
,,135,135,,,135,135,,,135,135,,,135,135,,,135,135,,,135,135,,,135],f:[]}]},{i:[0,0,140,0,0,0,140,0,0,60,4,10,34,0,0,0,0,187,5,0,1,239,135,0,32,108,5,16,4],p:[,,,,1,1,1,1,1,1,,,1,1,1],c:[{n:[,,135,,,,135,,,,135,,,,135,,,,135,,,,135,,,,135,,,135,135],f:[]}]}],rl:5703,pl:32,ep:14,nc:4});1>S.g(););var ia=0;onclick=()=>{onclick=null;E.style.cursor="none";E.requestFullscreen();var a=new AudioContext({sampleRate:44100}),b=a.createScriptProcessor(4096,0,1);b.connect(a.destination);b.onaudioprocess=ya;requestAnimationFrame(ma)}})();
