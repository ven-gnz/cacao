(function(){function Z(a){var b=Math.sin(a);a=Math.cos(a);return[a,0,-b,0,0,1,0,0,b,0,a,0,0,0,0,1]}function aa(a){var b=Math.sin(a);a=Math.cos(a);return[1,0,0,0,0,a,-b,0,0,b,a,0,0,0,0,1]}function B(a,b,f){var g=[1,0,0,0,0,1,0,0,0,0,1,0,a,b,f,1];g.n=[1,0,0,0,0,1,0,0,0,0,1,0,-a,-b,-f,1];return g}function ba(a,b,f){var g=[a,0,0,0,0,b,0,0,0,0,f,0,0,0,0,1];g.n=[1/a,0,0,0,0,1/b,0,0,0,0,1/f,0,0,0,0,1];return g}function ca(a){var b=aa(a);b.n=aa(-a);return b}function J(a,b){var f,g,d,l=[];for(f=0;f<b.length;f++)l[f]=
0;for(f=0;4>f;f++)for(g=0;g<b.length/4;g++)for(d=0;4>d;d++)l[4*g+f]+=a[4*d+f]*b[4*g+d];return l}function da(a,b){var f=J(a,b);f.n=J(b.n,a.n);return f}function xa(a){return[a[0],a[4],a[8],0,a[1],a[5],a[9],0,a[2],a[6],a[10],0,0,0,0,1]}function H(a){var b=a.slice();this.c=function(f){f.uM4fv(f.gUL(u,"i"),!1,b)}}function ya(){this.c=function(a){N=a.n;N.n=a}}function za(){this.c=function(a){ea=a}}function fa(a,b){b=a.f.reduce(da,b);e.uM4fv(e.gUL(u,"mv"),!1,b);e.uM4fv(e.gUL(u,"nm"),!1,xa(b.n));a.o.map(function(f){f.c(e)});
a.c.map(function(f){fa(f,b)})}function ha(a,b){b=a.f.reduce(da,b);a.r&&a.r.map(function(f){f.c(b)});a.c.map(function(f){ha(f,b)})}function O(a,b,f){var g=f?f:1;this.n=b?b:10;this.c=function(d){var l=Math.sin(2*d*P*g);d=Math.cos(2*d*P*g);return[l,-d,0,0,0,0,1,0,-d,-l,0,0,-l*a,d*a,0,1]}}function ia(a,b,f,g){g=g?g:1;for(var d=0;4>d;d++)a.push(g*b[4*f+d])}function ja(a,b,f){var g,d,l=[],p=[],c=[],h=[],v=1.5*f.n|0,k=2*(v-1)*(b-1),z=e.cB(),x=e.cB(),n=e.cB(),A=e.cB();for(g=0;g<v;g++){var C=g/(v-1);C=f.c(C);
for(d=0;d<b;d++){var y=d/(b-1);y=a.c(y);y=J(C,y);ia(l,y,3);ia(p,y,0,-1);h.push((2*g+d+0)%3?0:1,(2*g+d+1)%3?0:1,(2*g+d+2)%3?0:1,1)}}for(g=0;g<v-1;g++)for(d=0;d<b-1;d++)c.push(g*b+d,g*b+d+1,(g+1)*b+d),c.push(g*b+d+1,(g+1)*b+d+1,(g+1)*b+d);e.bB(34962,z);e.bD(34962,new Float32Array(h),35044);e.bB(34962,n);e.bD(34962,new Float32Array(l),35044);e.bB(34962,x);e.bD(34962,new Float32Array(p),35044);e.bB(34963,A);e.bD(34963,new Uint16Array(c),35044);this.c=function(q){q.bB(34962,z);q.elVAA(d=q.gAL(u,"g"));
q.vAP(d,4,5126,!1,0,0);q.bB(34962,n);q.elVAA(d=q.gAL(u,"v"));q.vAP(d,4,5126,!1,0,0);q.bB(34962,x);q.elVAA(d=q.gAL(u,"N"));q.vAP(d,4,5126,!1,0,0);q.bB(34963,A);q.dEl(4,3*k,5123,0)}}function Aa(a){U.cpy(ka,4096,a.outputBuffer.getChannelData(0));ka+=4096}var u,F,la,ma;var t=document;var N,ea,P=Math.PI,na=["uniform mat4 mv,nm,p;attribute vec4 g,v,N;varying vec4 c,n,f;void main(){gl_Position=p*mv*v;n=nm*N;c=g;f=mv*v;}","uniform highp mat4 i;uniform highp vec4 l;varying highp vec4 c,n,f;void main(){gl_FragColor=vec4(i[3].aaa*max(0.,1.-4.*min(c.b,min(c.g,c.r)))+max(i[0].rgb,i[1].rgb*max(0.,dot(normalize(l-f),normalize(n)))+i[2].rgb*pow(max(0.,dot(normalize(-f),reflect(-normalize(l-f),normalize(n)))),i[2].a)),1.);}"],
Q=[0,0,0,1],Ba=null,oa=function(a){Ba||=a;var b=innerWidth,f=innerHeight;b==la&&f==ma||e.vp(0,0,la=F.width=b,ma=F.height=f);e.el(2929);e.el(2884);a={f:[],o:[],c:[]};var g={f:[],o:[],c:[]},d=[.1,.12,.05,1,.2,.4,.5,1,.1,.1,.1,1,0,0,0,0],l={f:[],o:[new H(d),K],c:[]},p={f:[],o:[],c:[]},c={f:[],o:[new H(d),K],c:[]};for(var h=0;3>h;h++)c.f.push(B(0,h+1,0)),c.f.push(ba(.25,.25,.25)),p.c.push(c);c={f:[B(0,4,0)],o:[new H(d),K],c:[]};h={f:[B(1,0,0)],o:[new H(d),K],c:[]};d={f:[B(-1,0,0)],o:[new H(d),K],c:[]};
c.c.push(h);c.c.push(d);p.c.push(l);p.c.push(c);g.c.push(p);g={f:[],o:[],c:[{f:[],o:[],c:[g]}]};l=[B(0,-15,0)];p=a.c;d=p.push;c=B(0,0,0);h=Z(0);h.n=Z(-0);d.call(p,{f:[],o:[],c:[{f:l,o:[],c:[g]},{f:[c,h,B(0,0,45),ca(.2)],o:[],c:[],r:[new ya]},{f:[B(0,0,0),ba(.1,.1,.1)],o:[new H([3,3,3,0,9,9,9,0,0,0,0,1,0,0,0,0]),Ca],c:[],r:[new za]}]});e.clCl(Q[0],Q[1],Q[2],Q[3]);e.cl(16640);b=[5/(b/f),0,0,0,0,5,0,0,0,0,-1,-1,0,0,-1,0];e.uM4fv(e.gUL(u,"p"),!1,b);e.uP(u);ha(a,ca(0));e.u4fv(e.gUL(u,"l"),J(N,J(ea,[0,
0,0,1])));fa(a,N);requestAnimationFrame(oa)};t.body.innerHTML="Click!";t.body.appendChild(F=t.createElement("canvas"));t=F.style;t.position="fixed";t.left=t.top=0;var e=F.getContext("webgl2");for(t in e)e[t.match(/^.|[A-Zlp1-4]|[fuiv]*$/g).join("")]=e[t];t=e.cS(35633);e.sS(t,na[0]);e.cplS(t);e.aS(u=e.cP(),t);t=e.cS(35632);e.sS(t,na[1]);e.cplS(t);e.aS(u,t);e.lP(u);var Ca=new function(a){var b=e.cB(),f=e.cB(),g=e.cB(),d=e.cB();a=[];var l=[],p=[];a=[-1,-1,1,1,1,-1,1,1,1,1,1,1,-1,1,1,1,-1,-1,-1,1,-1,
1,-1,1,1,1,-1,1,1,-1,-1,1,-1,1,-1,1,-1,1,1,1,1,1,1,1,1,1,-1,1,-1,-1,-1,1,1,-1,-1,1,1,-1,1,1,-1,-1,1,1,1,-1,-1,1,1,1,-1,1,1,1,1,1,1,-1,1,1,-1,-1,-1,1,-1,-1,1,1,-1,1,1,1,-1,1,-1,1];l=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,-1,0,0,0,-1,0,0,0,-1,0,0,0,-1,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,-1,0,0,0,-1,0,0,0,-1,0,0,0,-1,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,-1,0,0,0,-1,0,0,0,-1,0,0,0,-1,0,0,0];p=[0,1,2,0,2,3,4,5,6,4,6,7,8,9,10,8,10,11,12,13,14,12,14,15,16,17,18,16,18,19,20,21,22,20,22,23];e.bB(34962,b);e.bD(34962,
new Float32Array(l),35044);e.bB(34962,f);e.bD(34962,new Float32Array(a),35044);e.bB(34962,g);e.bD(34962,new Float32Array(l),35044);e.bB(34963,d);e.bD(34963,new Uint16Array(p),35044);this.c=function(c){var h;c.bB(34962,b);c.elVAA(h=c.gAL(u,"g"));c.vAP(h,4,5126,!1,0,0);c.bB(34962,f);c.elVAA(h=c.gAL(u,"v"));c.vAP(h,4,5126,!1,0,0);c.bB(34962,g);c.elVAA(h=c.gAL(u,"N"));c.vAP(h,4,5126,!1,0,0);c.bB(34963,d);c.dEl(4,36,5123,0)}}(1);var K=new ja(new O(1,10,.5),32,new O(0,32));new ja(new O(-10,10,.5),32,new O(0,
32));var U=new function(){var a=function(c){return Math.sin(2*c*P)},b=[a,function(c){return.5>c%1?1:-1},function(c){return c%1*2-1},function(c){c=c%1*4;return 2>c?c-1:3-c}],f,g,d,l,p;this.i=function(c){f=c;g=c.ep;d=0;l=c.rl*c.pl*(g+1)*2;p=new Int32Array(l)};this.g=function(){var c,h,v,k,z,x=new Int32Array(l),n=f.s[d],A=f.rl,C=f.pl,y=0,q=0,G,R=[];for(h=0;h<=g;++h){var L=n.p[h];for(v=0;v<C;++v){if(z=L?n.c[L-1].f[v]:0)n.i[z-1]=n.c[L-1].f[v+C]||0,17>z&&(R=[]);var Da=b[n.i[16]],Ea=n.i[17]/512,Fa=2**(n.i[18]-
9)/A,Ga=n.i[19],pa=n.i[20],Ha=.00308*n.i[21],Ia=1-n.i[22]/255,V=1E-5*n.i[23],Ja=n.i[24]/32,Ka=n.i[25]/512,La=2*P*2**(n.i[26]-9)/A,qa=n.i[27]/255,W=n.i[28]*A&-2;z=(h*C+v)*A;for(k=0;4>k;++k)if(c=L?n.c[L-1].n[v+k*C]:0){if(!R[c]){var m=R;var w=c;var ra=G=void 0,S,D,r=n,sa=c,Ma=b[r.i[0]],Na=r.i[1],Oa=r.i[3]/32,Pa=b[r.i[4]],Qa=r.i[5],Ra=r.i[8]/32,ta=r.i[9],I=r.i[10]*r.i[10]*4,T=r.i[11]*r.i[11]*4,X=r.i[12]*r.i[12]*4,Sa=1/X,Ta=-r.i[13]/16,M=r.i[14],Ua=A*2**(2-r.i[15]),ua=new Int32Array(I+T+X),va=0,wa=0;for(S=
D=0;D<I+T+X;D++,S++){0<=S&&(M=M>>8|(M&255)<<4,S-=Ua,ra=.004*2**((sa+(M&15)+r.i[2]-128-128)/12),G=.004*2**((sa+(M&15)+r.i[6]-128-128)/12)*(1+8E-4*r.i[7]));var E=1;D<I?E=D/I:D>=I+T&&(E=(D-I-T)*Sa,E=(1-E)*3**(Ta*E));va+=ra*E**Oa;var Y=Ma(va)*Na;wa+=G*E**Ra;Y+=Pa(wa)*Qa;ta&&(Y+=(2*Math.random()-1)*ta);ua[D]=80*Y*E|0}m[w]=ua}w=R[c];c=0;for(m=2*z;c<w.length;c++,m+=2)x[m]+=w[c]}for(c=0;c<A;c++)k=2*(z+c),m=x[k],w=Ha,Ga&&(w*=Da(Fa*k)*Ea+.5),w=1.5*Math.sin(w),y+=w*q,m=Ia*(m-q)-y,q+=w*m,m=3==pa?q:1==pa?m:y,
V&&(m*=V,m=1>m?-1<m?a(.25*m):-1:1,m/=V),m*=Ja,w=Math.sin(La*k)*Ka+.5,G=m*(1-w),m*=w,k>=W&&(G+=x[k-W+1]*qa,m+=x[k-W]*qa),x[k]=G|0,x[k+1]=m|0,p[k]+=G|0,p[k+1]+=m|0}}d++;return d/f.nc};this.cpy=function(c,h,v){for(var k=0;k<h;k++)v[k]=p[2*c+2*k]/32768}};for(U.i({s:[{i:[2,100,128,0,3,201,128,0,0,0,0,24,15,0,0,0,0,57,6,1,2,193,0,2,35,147,6,121,6],p:[1,2,3,4,6,2,3,4,1,2,3,6,2,2],c:[{n:[111,,123,,135,,111,,123,,135,,111,,123,,137,,111,,123,,137,,111,,123,,137,,139],f:[]},{n:[111,111,123,,135,,111,,123,,
135,,111,,123,,137,,111,,123,,137,,139,,111,,123,,125,,142],f:[]},{n:[109,,121,,133,,109,,121,,133,,109,,121,,135,,109,,121,,135,,109,,121,,135,,137],f:[]},{n:[104,104,116,,128,,116,,104,104,116,,128,,128,,104,104,116,,116,,104,,106,118,118,106,121,133,133,121],f:[]},{n:[103,,115,,127,,103,,115,,127,,103,,115,,113,,101,,125,,113,,101,,125,,113,,118],f:[]},{n:[111,111,123,,135,,111,,123,,135,,111,,123,,137,,111,,123,,137,,139,,123,,140,,152,,142,,,,,,,,,,,,,,,,144,,,,,,,,145,,,,147],f:[]}]},{i:[2,
100,128,0,3,201,128,0,0,0,0,24,17,0,0,0,0,57,6,1,2,193,0,0,32,147,6,121,6],p:[,,1,,1,,1],c:[{n:[156,154,,149],f:[]}]},{i:[0,255,116,64,0,255,116,0,64,0,4,6,35,0,0,0,0,0,0,0,2,14,0,0,32,0,0,0,0],p:[,,,,1,1,1,1,1],c:[{n:[135,,,135,135,,,135,135,,,135,135,,,135,135,,,135,135,,,135,135,,,135,135,,,135],f:[]}]},{i:[0,0,140,0,0,0,140,0,0,60,4,10,34,0,0,0,0,187,5,0,1,239,135,0,32,108,5,16,4],p:[,,,,1,1,1,1,1,1,,,1,1,1],c:[{n:[,,135,,,,135,,,,135,,,,135,,,,135,,,,135,,,,135,,,135,135],f:[]}]}],rl:5703,pl:32,
ep:14,nc:4});1>U.g(););var ka=0;onclick=()=>{onclick=null;F.style.cursor="none";F.requestFullscreen();var a=new AudioContext({sampleRate:44100}),b=a.createScriptProcessor(4096,0,1);b.connect(a.destination);b.onaudioprocess=Aa;requestAnimationFrame(oa)}})();
