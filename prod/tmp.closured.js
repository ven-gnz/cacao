(function(){function ca(a){var b=Math.sin(a);a=Math.cos(a);return[a,-b,0,0,b,a,0,0,0,0,1,0,0,0,0,1]}function da(a){var b=Math.sin(a);a=Math.cos(a);return[a,0,-b,0,0,1,0,0,b,0,a,0,0,0,0,1]}function ea(a){var b=Math.sin(a);a=Math.cos(a);return[1,0,0,0,0,a,-b,0,0,b,a,0,0,0,0,1]}function z(a,b,e){var g=[1,0,0,0,0,1,0,0,0,0,1,0,a,b,e,1];g.n=[1,0,0,0,0,1,0,0,0,0,1,0,-a,-b,-e,1];return g}function fa(a,b,e){var g=[a,0,0,0,0,b,0,0,0,0,e,0,0,0,0,1];g.n=[1/a,0,0,0,0,1/b,0,0,0,0,1/e,0,0,0,0,1];return g}function V(a){var b=
ea(a);b.n=ea(-a);return b}function J(a,b){var e,g,d,h=[];for(e=0;e<b.length;e++)h[e]=0;for(e=0;4>e;e++)for(g=0;g<b.length/4;g++)for(d=0;4>d;d++)h[4*g+e]+=a[4*d+e]*b[4*g+d];return h}function ha(a,b){var e=J(a,b);e.n=J(b.n,a.n);return e}function Ca(a){return[a[0],a[4],a[8],0,a[1],a[5],a[9],0,a[2],a[6],a[10],0,0,0,0,1]}function H(a){var b=a.slice();this.c=function(e){e.uM4fv(e.gUL(v,"i"),!1,b)}}function Da(){this.c=function(a){O=a.n;O.n=a}}function Ea(){this.c=function(a){ia=a}}function ja(a,b){b=a.f.reduce(ha,
b);f.uM4fv(f.gUL(v,"mv"),!1,b);f.uM4fv(f.gUL(v,"nm"),!1,Ca(b.n));a.o.map(function(e){e.c(f)});a.c.map(function(e){ja(e,b)})}function ka(a,b){b=a.f.reduce(ha,b);a.r&&a.r.map(function(e){e.c(b)});a.c.map(function(e){ka(e,b)})}function P(a,b,e){var g=e?e:1;this.n=b?b:10;this.c=function(d){var h=Math.sin(2*d*Q*g);d=Math.cos(2*d*Q*g);return[h,-d,0,0,0,0,1,0,-d,-h,0,0,-h*a,d*a,0,1]}}function la(a,b,e,g){g=g?g:1;for(var d=0;4>d;d++)a.push(g*b[4*e+d])}function ma(a,b,e){var g,d,h=[],t=[],c=[],k=[],p=1.5*
e.n|0,l=2*(p-1)*(b-1),A=f.cB(),x=f.cB(),n=f.cB(),B=f.cB();for(g=0;g<p;g++){var C=g/(p-1);C=e.c(C);for(d=0;d<b;d++){var y=d/(b-1);y=a.c(y);y=J(C,y);la(h,y,3);la(t,y,0,-1);k.push((2*g+d+0)%3?0:1,(2*g+d+1)%3?0:1,(2*g+d+2)%3?0:1,1)}}for(g=0;g<p-1;g++)for(d=0;d<b-1;d++)c.push(g*b+d,g*b+d+1,(g+1)*b+d),c.push(g*b+d+1,(g+1)*b+d+1,(g+1)*b+d);f.bB(34962,A);f.bD(34962,new Float32Array(k),35044);f.bB(34962,n);f.bD(34962,new Float32Array(h),35044);f.bB(34962,x);f.bD(34962,new Float32Array(t),35044);f.bB(34963,
B);f.bD(34963,new Uint16Array(c),35044);this.c=function(q){q.bB(34962,A);q.elVAA(d=q.gAL(v,"g"));q.vAP(d,4,5126,!1,0,0);q.bB(34962,n);q.elVAA(d=q.gAL(v,"v"));q.vAP(d,4,5126,!1,0,0);q.bB(34962,x);q.elVAA(d=q.gAL(v,"N"));q.vAP(d,4,5126,!1,0,0);q.bB(34963,B);q.dEl(4,3*l,5123,0)}}function Fa(a){W.cpy(na,4096,a.outputBuffer.getChannelData(0));na+=4096}var v,F,oa,pa;var u=document;var O,ia,Q=Math.PI,qa=["uniform mat4 mv,nm,p;attribute vec4 g,v,N;varying vec4 c,n,f;void main(){gl_Position=p*mv*v;n=nm*N;c=g;f=mv*v;}",
"uniform highp mat4 i;uniform highp vec4 l;varying highp vec4 c,n,f;void main(){gl_FragColor=vec4(i[3].aaa*max(0.,1.-4.*min(c.b,min(c.g,c.r)))+max(i[0].rgb,i[1].rgb*max(0.,dot(normalize(l-f),normalize(n)))+i[2].rgb*pow(max(0.,dot(normalize(-f),reflect(-normalize(l-f),normalize(n)))),i[2].a)),1.);}"],R=[0,0,0,1],K=[.1,.12,.05,1,.2,.4,.5,1,.1,.1,.1,1,0,0,0,0],ra=0,X=0,sa=null,ta=function(a){sa||=a;var b=116*(a-sa)/6E4,e=innerWidth,g=innerHeight;e==oa&&g==pa||f.vp(0,0,oa=F.width=e,pa=F.height=g);f.el(2929);
f.el(2884);a={f:[],o:[],c:[]};var d=2*b,h={f:[],o:[],c:[]},t={f:[fa(.2,.2,.2),z(0,4,0)],o:[new H(K),L],c:[]},c=.5>Math.sin(.5*d)?Math.sin(.5*d):.5;c=Math.max(0,Math.min(c,.5));X+=.05*(c-X);c=z(2,0,0);var k=X,p=ca(k);p.n=ca(-k);c={f:[c,p],o:[new H(K),L],c:[]};ra=.1<2*Math.sin(.5*d)?2*Math.sin(.5*d):.1;d={f:[z(0,-3,0),V(ra)],o:[new H(K),L],c:[]};k={f:[z(0,-3,0)],o:[new H(K),L],c:[]};d.c.push(k);c.c.push(d);d={f:[z(-1,0,0)],o:[new H(K),L],c:[]};t.c.push(c);t.c.push(d);h.c.push(t);h={f:[],o:[],c:[{f:[],
o:[],c:[h]}]};t=[z(0,-15,0)];d=a.c;c=d.push;k=z(0,0,0);b/=3;p=da(b);p.n=da(-b);c.call(d,{f:[],o:[],c:[{f:t,o:[],c:[h]},{f:[k,p,z(0,0,45),V(.2)],o:[],c:[],r:[new Da]},{f:[z(0,0,0),fa(.1,.1,.1)],o:[new H([3,3,3,0,9,9,9,0,0,0,0,1,0,0,0,0]),Ga],c:[],r:[new Ea]}]});f.clCl(R[0],R[1],R[2],R[3]);f.cl(16640);e=[5/(e/g),0,0,0,0,5,0,0,0,0,-1,-1,0,0,-1,0];f.uM4fv(f.gUL(v,"p"),!1,e);f.uP(v);ka(a,V(0));f.u4fv(f.gUL(v,"l"),J(O,J(ia,[0,0,0,1])));ja(a,O);requestAnimationFrame(ta)};u.body.innerHTML="Click!";u.body.appendChild(F=
u.createElement("canvas"));u=F.style;u.position="fixed";u.left=u.top=0;var f=F.getContext("webgl2");for(u in f)f[u.match(/^.|[A-Zlp1-4]|[fuiv]*$/g).join("")]=f[u];u=f.cS(35633);f.sS(u,qa[0]);f.cplS(u);f.aS(v=f.cP(),u);u=f.cS(35632);f.sS(u,qa[1]);f.cplS(u);f.aS(v,u);f.lP(v);var Ga=new function(a){var b=f.cB(),e=f.cB(),g=f.cB(),d=f.cB();a=[];var h=[],t=[];a=[-1,-1,1,1,1,-1,1,1,1,1,1,1,-1,1,1,1,-1,-1,-1,1,-1,1,-1,1,1,1,-1,1,1,-1,-1,1,-1,1,-1,1,-1,1,1,1,1,1,1,1,1,1,-1,1,-1,-1,-1,1,1,-1,-1,1,1,-1,1,1,
-1,-1,1,1,1,-1,-1,1,1,1,-1,1,1,1,1,1,1,-1,1,1,-1,-1,-1,1,-1,-1,1,1,-1,1,1,1,-1,1,-1,1];h=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,-1,0,0,0,-1,0,0,0,-1,0,0,0,-1,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,-1,0,0,0,-1,0,0,0,-1,0,0,0,-1,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,-1,0,0,0,-1,0,0,0,-1,0,0,0,-1,0,0,0];t=[0,1,2,0,2,3,4,5,6,4,6,7,8,9,10,8,10,11,12,13,14,12,14,15,16,17,18,16,18,19,20,21,22,20,22,23];f.bB(34962,b);f.bD(34962,new Float32Array(h),35044);f.bB(34962,e);f.bD(34962,new Float32Array(a),35044);f.bB(34962,
g);f.bD(34962,new Float32Array(h),35044);f.bB(34963,d);f.bD(34963,new Uint16Array(t),35044);this.c=function(c){var k;c.bB(34962,b);c.elVAA(k=c.gAL(v,"g"));c.vAP(k,4,5126,!1,0,0);c.bB(34962,e);c.elVAA(k=c.gAL(v,"v"));c.vAP(k,4,5126,!1,0,0);c.bB(34962,g);c.elVAA(k=c.gAL(v,"N"));c.vAP(k,4,5126,!1,0,0);c.bB(34963,d);c.dEl(4,36,5123,0)}}(1);var L=new ma(new P(1,10,.5),32,new P(0,32));new ma(new P(-10,10,.5),32,new P(0,32));var W=new function(){var a=function(c){return Math.sin(2*c*Q)},b=[a,function(c){return.5>
c%1?1:-1},function(c){return c%1*2-1},function(c){c=c%1*4;return 2>c?c-1:3-c}],e,g,d,h,t;this.i=function(c){e=c;g=c.ep;d=0;h=c.rl*c.pl*(g+1)*2;t=new Int32Array(h)};this.g=function(){var c,k,p,l,A,x=new Int32Array(h),n=e.s[d],B=e.rl,C=e.pl,y=0,q=0,G,S=[];for(k=0;k<=g;++k){var M=n.p[k];for(p=0;p<C;++p){if(A=M?n.c[M-1].f[p]:0)n.i[A-1]=n.c[M-1].f[p+C]||0,17>A&&(S=[]);var Ha=b[n.i[16]],Ia=n.i[17]/512,Ja=2**(n.i[18]-9)/B,Ka=n.i[19],ua=n.i[20],La=.00308*n.i[21],Ma=1-n.i[22]/255,Y=1E-5*n.i[23],Na=n.i[24]/
32,Oa=n.i[25]/512,Pa=2*Q*2**(n.i[26]-9)/B,va=n.i[27]/255,Z=n.i[28]*B&-2;A=(k*C+p)*B;for(l=0;4>l;++l)if(c=M?n.c[M-1].n[p+l*C]:0){if(!S[c]){var m=S;var w=c;var wa=G=void 0,T,D,r=n,xa=c,Qa=b[r.i[0]],Ra=r.i[1],Sa=r.i[3]/32,Ta=b[r.i[4]],Ua=r.i[5],Va=r.i[8]/32,ya=r.i[9],I=r.i[10]*r.i[10]*4,U=r.i[11]*r.i[11]*4,aa=r.i[12]*r.i[12]*4,Wa=1/aa,Xa=-r.i[13]/16,N=r.i[14],Ya=B*2**(2-r.i[15]),za=new Int32Array(I+U+aa),Aa=0,Ba=0;for(T=D=0;D<I+U+aa;D++,T++){0<=T&&(N=N>>8|(N&255)<<4,T-=Ya,wa=.004*2**((xa+(N&15)+r.i[2]-
128-128)/12),G=.004*2**((xa+(N&15)+r.i[6]-128-128)/12)*(1+8E-4*r.i[7]));var E=1;D<I?E=D/I:D>=I+U&&(E=(D-I-U)*Wa,E=(1-E)*3**(Xa*E));Aa+=wa*E**Sa;var ba=Qa(Aa)*Ra;Ba+=G*E**Va;ba+=Ta(Ba)*Ua;ya&&(ba+=(2*Math.random()-1)*ya);za[D]=80*ba*E|0}m[w]=za}w=S[c];c=0;for(m=2*A;c<w.length;c++,m+=2)x[m]+=w[c]}for(c=0;c<B;c++)l=2*(A+c),m=x[l],w=La,Ka&&(w*=Ha(Ja*l)*Ia+.5),w=1.5*Math.sin(w),y+=w*q,m=Ma*(m-q)-y,q+=w*m,m=3==ua?q:1==ua?m:y,Y&&(m*=Y,m=1>m?-1<m?a(.25*m):-1:1,m/=Y),m*=Na,w=Math.sin(Pa*l)*Oa+.5,G=m*(1-w),
m*=w,l>=Z&&(G+=x[l-Z+1]*va,m+=x[l-Z]*va),x[l]=G|0,x[l+1]=m|0,t[l]+=G|0,t[l+1]+=m|0}}d++;return d/e.nc};this.cpy=function(c,k,p){for(var l=0;l<k;l++)p[l]=t[2*c+2*l]/32768}};for(W.i({s:[{i:[2,100,128,0,3,201,128,0,0,0,0,24,15,0,0,0,0,57,6,1,2,193,0,2,35,147,6,121,6],p:[1,2,3,4,6,2,3,4,1,2,3,6,2,2],c:[{n:[111,,123,,135,,111,,123,,135,,111,,123,,137,,111,,123,,137,,111,,123,,137,,139],f:[]},{n:[111,111,123,,135,,111,,123,,135,,111,,123,,137,,111,,123,,137,,139,,111,,123,,125,,142],f:[]},{n:[109,,121,
,133,,109,,121,,133,,109,,121,,135,,109,,121,,135,,109,,121,,135,,137],f:[]},{n:[104,104,116,,128,,116,,104,104,116,,128,,128,,104,104,116,,116,,104,,106,118,118,106,121,133,133,121],f:[]},{n:[103,,115,,127,,103,,115,,127,,103,,115,,113,,101,,125,,113,,101,,125,,113,,118],f:[]},{n:[111,111,123,,135,,111,,123,,135,,111,,123,,137,,111,,123,,137,,139,,123,,140,,152,,142,,,,,,,,,,,,,,,,144,,,,,,,,145,,,,147],f:[]}]},{i:[2,100,128,0,3,201,128,0,0,0,0,24,17,0,0,0,0,57,6,1,2,193,0,0,32,147,6,121,6],p:[,
,1,,1,,1],c:[{n:[156,154,,149],f:[]}]},{i:[0,255,116,64,0,255,116,0,64,0,4,6,35,0,0,0,0,0,0,0,2,14,0,0,32,0,0,0,0],p:[,,,,1,1,1,1,1],c:[{n:[135,,,135,135,,,135,135,,,135,135,,,135,135,,,135,135,,,135,135,,,135,135,,,135],f:[]}]},{i:[0,0,140,0,0,0,140,0,0,60,4,10,34,0,0,0,0,187,5,0,1,239,135,0,32,108,5,16,4],p:[,,,,1,1,1,1,1,1,,,1,1,1],c:[{n:[,,135,,,,135,,,,135,,,,135,,,,135,,,,135,,,,135,,,135,135],f:[]}]}],rl:5703,pl:32,ep:14,nc:4});1>W.g(););var na=0;onclick=()=>{onclick=null;F.style.cursor="none";
F.requestFullscreen();var a=new AudioContext({sampleRate:44100}),b=a.createScriptProcessor(4096,0,1);b.connect(a.destination);b.onaudioprocess=Fa;requestAnimationFrame(ta)}})();
