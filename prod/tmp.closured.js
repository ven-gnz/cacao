(function(){function ca(a){var b=Math.sin(a);a=Math.cos(a);return[a,-b,0,0,b,a,0,0,0,0,1,0,0,0,0,1]}function da(a){var b=Math.sin(a);a=Math.cos(a);return[a,0,-b,0,0,1,0,0,b,0,a,0,0,0,0,1]}function ea(a){var b=Math.sin(a);a=Math.cos(a);return[1,0,0,0,0,a,-b,0,0,b,a,0,0,0,0,1]}function w(a,b,d){var g=[1,0,0,0,0,1,0,0,0,0,1,0,a,b,d,1];g.n=[1,0,0,0,0,1,0,0,0,0,1,0,-a,-b,-d,1];return g}function A(a,b,d){var g=[a,0,0,0,0,b,0,0,0,0,d,0,0,0,0,1];g.n=[1/a,0,0,0,0,1/b,0,0,0,0,1/d,0,0,0,0,1];return g}function fa(a){var b=
ca(a);b.n=ca(-a);return b}function O(a){var b=da(a);b.n=da(-a);return b}function P(a){var b=ea(a);b.n=ea(-a);return b}function L(a,b){var d,g,c,h=[];for(d=0;d<b.length;d++)h[d]=0;for(d=0;4>d;d++)for(g=0;g<b.length/4;g++)for(c=0;4>c;c++)h[4*g+d]+=a[4*c+d]*b[4*g+c];return h}function ha(a,b){var d=L(a,b);d.n=L(b.n,a.n);return d}function Ca(a){return[a[0],a[4],a[8],0,a[1],a[5],a[9],0,a[2],a[6],a[10],0,0,0,0,1]}function D(a){var b=a.slice();this.c=function(d){d.uM4fv(d.gUL(u,"i"),!1,b)}}function Da(){this.c=
function(a){Q=a.n;Q.n=a}}function Ea(){this.c=function(a){ia=a}}function ja(a,b){b=a.f.reduce(ha,b);e.uM4fv(e.gUL(u,"mv"),!1,b);e.uM4fv(e.gUL(u,"nm"),!1,Ca(b.n));a.o.map(function(d){d.c(e)});a.c.map(function(d){ja(d,b)})}function ka(a,b){b=a.f.reduce(ha,b);a.r&&a.r.map(function(d){d.c(b)});a.c.map(function(d){ka(d,b)})}function R(a,b,d){var g=d?d:1;this.n=b?b:10;this.c=function(c){var h=Math.sin(2*c*S*g);c=Math.cos(2*c*S*g);return[h,-c,0,0,0,0,1,0,-c,-h,0,0,-h*a,c*a,0,1]}}function la(a,b,d,g){g=g?
g:1;for(var c=0;4>c;c++)a.push(g*b[4*d+c])}function ma(a,b,d){var g,c,h=[],r=[],f=[],t=[],v=1.5*d.n|0,k=2*(v-1)*(b-1),B=e.cB(),y=e.cB(),m=e.cB(),C=e.cB();for(g=0;g<v;g++){var E=g/(v-1);E=d.c(E);for(c=0;c<b;c++){var z=c/(b-1);z=a.c(z);z=L(E,z);la(h,z,3);la(r,z,0,-1);t.push((2*g+c+0)%3?0:1,(2*g+c+1)%3?0:1,(2*g+c+2)%3?0:1,1)}}for(g=0;g<v-1;g++)for(c=0;c<b-1;c++)f.push(g*b+c,g*b+c+1,(g+1)*b+c),f.push(g*b+c+1,(g+1)*b+c+1,(g+1)*b+c);e.bB(34962,B);e.bD(34962,new Float32Array(t),35044);e.bB(34962,m);e.bD(34962,
new Float32Array(h),35044);e.bB(34962,y);e.bD(34962,new Float32Array(r),35044);e.bB(34963,C);e.bD(34963,new Uint16Array(f),35044);this.c=function(n){n.bB(34962,B);n.elVAA(c=n.gAL(u,"g"));n.vAP(c,4,5126,!1,0,0);n.bB(34962,m);n.elVAA(c=n.gAL(u,"v"));n.vAP(c,4,5126,!1,0,0);n.bB(34962,y);n.elVAA(c=n.gAL(u,"N"));n.vAP(c,4,5126,!1,0,0);n.bB(34963,C);n.dEl(4,3*k,5123,0)}}function Fa(a){X.cpy(na,4096,a.outputBuffer.getChannelData(0));na+=4096}var u,H,oa,pa;var q=document;var Q,ia,S=Math.PI,qa=["uniform mat4 mv,nm,p;attribute vec4 g,v,N;varying vec4 c,n,f;void main(){gl_Position=p*mv*v;n=nm*N;c=g;f=mv*v;}",
"uniform highp mat4 i;uniform highp vec4 l;varying highp vec4 c,n,f;void main(){gl_FragColor=vec4(i[3].aaa*max(0.,1.-4.*min(c.b,min(c.g,c.r)))+max(i[0].rgb,i[1].rgb*max(0.,dot(normalize(l-f),normalize(n)))+i[2].rgb*pow(max(0.,dot(normalize(-f),reflect(-normalize(l-f),normalize(n)))),i[2].a)),1.);}"],T=[0,0,0,1],ra=null,ta=function(a){ra||=a;var b=116*(a-ra)/6E4,d=innerWidth,g=innerHeight;d==oa&&g==pa||e.vp(0,0,oa=H.width=d,pa=H.height=g);e.el(2929);e.el(2884);a={f:[],o:[],c:[]};b*=2;var c={f:[],o:[],
c:[]},h=[.1,.12,.05,1,.2,.4,.5,1,.1,.1,.1,1,0,0,0,0],r=[.01,.02,.05,1,.02,.04,.05,1,.6,.3,.1,2,0,0,0,0];c.c.push({f:[w(0,1,0)],o:[new D(h),I],c:[]});c.c.push({f:[w(0,2,0),A(.7,.7,.7)],o:[new D(h),I],c:[{f:[O(.2),fa(.4*Math.sin(.8*b)),w(1,0,0),A(.8,.3,.3)],o:[I],c:[]},{f:[O(-.2),P(.4*Math.sin(.06*b)),fa(3.14-.4*Math.sin(.1*b)),w(1,0,0),A(.8,.3,.3)],o:[I],c:[]}]});c.c.push({f:[w(0,3,0),A(.4,.4,.4),P(-.3)],o:[new D(h),I],c:[{f:[w(0,.5,0),A(1.5,.2,1.5)],o:[new D(r),I],c:[]},{f:[w(0,.2,0),A(.9,1,.9)],
o:[new D(r),I],c:[]}]});b={f:[],o:[],c:[{f:[w(0,-2,0),O(Math.sin(30))],o:[],c:[c]}]};c=[.3,.6/3,.4/3,0,.9,.6,.4,0,0,0,0,1,0,0,0,0];h=[w(0,-2,0)];r={f:[],o:[new D([.1,.1,.2,1,.3,.3,1,1,.1,.1,.1,2,0,0,0,0]),Ga],c:[]};a.c.push({f:[],o:[],c:[{f:[w(0,-3,0),A(60,.2,60)],o:[new D(c),sa],c:[]},{f:h,o:[],c:[b]},{f:[A(3,3,3)],o:[],c:[r]},{f:[w(0,0,0),O(0),w(0,0,30),P(.2)],o:[],c:[],r:[new Da]},{f:[w(0,0,0),A(.1,.1,.1)],o:[new D([3,3,3,0,9,9,9,0,0,0,0,1,0,0,0,0]),sa],c:[],r:[new Ea]}]});e.clCl(T[0],T[1],T[2],
T[3]);e.cl(16640);d=[5/(d/g),0,0,0,0,5,0,0,0,0,-1,-1,0,0,-1,0];e.uM4fv(e.gUL(u,"p"),!1,d);e.uP(u);ka(a,P(0));e.u4fv(e.gUL(u,"l"),L(Q,L(ia,[0,0,0,1])));ja(a,Q);requestAnimationFrame(ta)};q.body.innerHTML="Click!";q.body.appendChild(H=q.createElement("canvas"));q=H.style;q.position="fixed";q.left=q.top=0;var e=H.getContext("webgl2");for(q in e)e[q.match(/^.|[A-Zlp1-4]|[fuiv]*$/g).join("")]=e[q];q=e.cS(35633);e.sS(q,qa[0]);e.cplS(q);e.aS(u=e.cP(),q);q=e.cS(35632);e.sS(q,qa[1]);e.cplS(q);e.aS(u,q);e.lP(u);
var sa=new function(a){var b=e.cB(),d=e.cB(),g=e.cB(),c=e.cB();a=[];var h=[],r=[];a=[-1,-1,1,1,1,-1,1,1,1,1,1,1,-1,1,1,1,-1,-1,-1,1,-1,1,-1,1,1,1,-1,1,1,-1,-1,1,-1,1,-1,1,-1,1,1,1,1,1,1,1,1,1,-1,1,-1,-1,-1,1,1,-1,-1,1,1,-1,1,1,-1,-1,1,1,1,-1,-1,1,1,1,-1,1,1,1,1,1,1,-1,1,1,-1,-1,-1,1,-1,-1,1,1,-1,1,1,1,-1,1,-1,1];h=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,-1,0,0,0,-1,0,0,0,-1,0,0,0,-1,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,-1,0,0,0,-1,0,0,0,-1,0,0,0,-1,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,-1,0,0,0,-1,0,0,
0,-1,0,0,0,-1,0,0,0];r=[0,1,2,0,2,3,4,5,6,4,6,7,8,9,10,8,10,11,12,13,14,12,14,15,16,17,18,16,18,19,20,21,22,20,22,23];e.bB(34962,b);e.bD(34962,new Float32Array(h),35044);e.bB(34962,d);e.bD(34962,new Float32Array(a),35044);e.bB(34962,g);e.bD(34962,new Float32Array(h),35044);e.bB(34963,c);e.bD(34963,new Uint16Array(r),35044);this.c=function(f){var t;f.bB(34962,b);f.elVAA(t=f.gAL(u,"g"));f.vAP(t,4,5126,!1,0,0);f.bB(34962,d);f.elVAA(t=f.gAL(u,"v"));f.vAP(t,4,5126,!1,0,0);f.bB(34962,g);f.elVAA(t=f.gAL(u,
"N"));f.vAP(t,4,5126,!1,0,0);f.bB(34963,c);f.dEl(4,36,5123,0)}}(1);var I=new ma(new R(1,10,.5),32,new R(0,32));var Ga=new ma(new R(-10,10,.5),32,new R(0,32));var X=new function(){var a=function(f){return Math.sin(2*f*S)},b=[a,function(f){return.5>f%1?1:-1},function(f){return f%1*2-1},function(f){f=f%1*4;return 2>f?f-1:3-f}],d,g,c,h,r;this.i=function(f){d=f;g=f.ep;c=0;h=f.rl*f.pl*(g+1)*2;r=new Int32Array(h)};this.g=function(){var f,t,v,k,B,y=new Int32Array(h),m=d.s[c],C=d.rl,E=d.pl,z=0,n=0,J,U=[];
for(t=0;t<=g;++t){var M=m.p[t];for(v=0;v<E;++v){if(B=M?m.c[M-1].f[v]:0)m.i[B-1]=m.c[M-1].f[v+E]||0,17>B&&(U=[]);var Ha=b[m.i[16]],Ia=m.i[17]/512,Ja=2**(m.i[18]-9)/C,Ka=m.i[19],ua=m.i[20],La=.00308*m.i[21],Ma=1-m.i[22]/255,Y=1E-5*m.i[23],Na=m.i[24]/32,Oa=m.i[25]/512,Pa=2*S*2**(m.i[26]-9)/C,va=m.i[27]/255,Z=m.i[28]*C&-2;B=(t*E+v)*C;for(k=0;4>k;++k)if(f=M?m.c[M-1].n[v+k*E]:0){if(!U[f]){var l=U;var x=f;var wa=J=void 0,V,F,p=m,xa=f,Qa=b[p.i[0]],Ra=p.i[1],Sa=p.i[3]/32,Ta=b[p.i[4]],Ua=p.i[5],Va=p.i[8]/32,
ya=p.i[9],K=p.i[10]*p.i[10]*4,W=p.i[11]*p.i[11]*4,aa=p.i[12]*p.i[12]*4,Wa=1/aa,Xa=-p.i[13]/16,N=p.i[14],Ya=C*2**(2-p.i[15]),za=new Int32Array(K+W+aa),Aa=0,Ba=0;for(V=F=0;F<K+W+aa;F++,V++){0<=V&&(N=N>>8|(N&255)<<4,V-=Ya,wa=.004*2**((xa+(N&15)+p.i[2]-128-128)/12),J=.004*2**((xa+(N&15)+p.i[6]-128-128)/12)*(1+8E-4*p.i[7]));var G=1;F<K?G=F/K:F>=K+W&&(G=(F-K-W)*Wa,G=(1-G)*3**(Xa*G));Aa+=wa*G**Sa;var ba=Qa(Aa)*Ra;Ba+=J*G**Va;ba+=Ta(Ba)*Ua;ya&&(ba+=(2*Math.random()-1)*ya);za[F]=80*ba*G|0}l[x]=za}x=U[f];f=
0;for(l=2*B;f<x.length;f++,l+=2)y[l]+=x[f]}for(f=0;f<C;f++)k=2*(B+f),l=y[k],x=La,Ka&&(x*=Ha(Ja*k)*Ia+.5),x=1.5*Math.sin(x),z+=x*n,l=Ma*(l-n)-z,n+=x*l,l=3==ua?n:1==ua?l:z,Y&&(l*=Y,l=1>l?-1<l?a(.25*l):-1:1,l/=Y),l*=Na,x=Math.sin(Pa*k)*Oa+.5,J=l*(1-x),l*=x,k>=Z&&(J+=y[k-Z+1]*va,l+=y[k-Z]*va),y[k]=J|0,y[k+1]=l|0,r[k]+=J|0,r[k+1]+=l|0}}c++;return c/d.nc};this.cpy=function(f,t,v){for(var k=0;k<t;k++)v[k]=r[2*f+2*k]/32768}};for(X.i({s:[{i:[2,100,128,0,3,201,128,0,0,0,0,24,15,0,0,0,0,57,6,1,2,193,0,2,35,
147,6,121,6],p:[1,2,3,4,6,2,3,4,1,2,3,6,2,2],c:[{n:[111,,123,,135,,111,,123,,135,,111,,123,,137,,111,,123,,137,,111,,123,,137,,139],f:[]},{n:[111,111,123,,135,,111,,123,,135,,111,,123,,137,,111,,123,,137,,139,,111,,123,,125,,142],f:[]},{n:[109,,121,,133,,109,,121,,133,,109,,121,,135,,109,,121,,135,,109,,121,,135,,137],f:[]},{n:[104,104,116,,128,,116,,104,104,116,,128,,128,,104,104,116,,116,,104,,106,118,118,106,121,133,133,121],f:[]},{n:[103,,115,,127,,103,,115,,127,,103,,115,,113,,101,,125,,113,
,101,,125,,113,,118],f:[]},{n:[111,111,123,,135,,111,,123,,135,,111,,123,,137,,111,,123,,137,,139,,123,,140,,152,,142,,,,,,,,,,,,,,,,144,,,,,,,,145,,,,147],f:[]}]},{i:[2,100,128,0,3,201,128,0,0,0,0,24,17,0,0,0,0,57,6,1,2,193,0,0,32,147,6,121,6],p:[,,1,,1,,1],c:[{n:[156,154,,149],f:[]}]},{i:[0,255,116,64,0,255,116,0,64,0,4,6,35,0,0,0,0,0,0,0,2,14,0,0,32,0,0,0,0],p:[,,,,1,1,1,1,1],c:[{n:[135,,,135,135,,,135,135,,,135,135,,,135,135,,,135,135,,,135,135,,,135,135,,,135],f:[]}]},{i:[0,0,140,0,0,0,140,0,
0,60,4,10,34,0,0,0,0,187,5,0,1,239,135,0,32,108,5,16,4],p:[,,,,1,1,1,1,1,1,,,1,1,1],c:[{n:[,,135,,,,135,,,,135,,,,135,,,,135,,,,135,,,,135,,,135,135],f:[]}]}],rl:5703,pl:32,ep:14,nc:4});1>X.g(););var na=0;onclick=()=>{onclick=null;H.style.cursor="none";H.requestFullscreen();var a=new AudioContext({sampleRate:44100}),b=a.createScriptProcessor(4096,0,1);b.connect(a.destination);b.onaudioprocess=Fa;requestAnimationFrame(ta)}})();
